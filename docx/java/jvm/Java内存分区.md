# JVM 的内存分区
JVM 内存分区主要分为线程独有和非线程独有的：
1. 线程独有：
    * 程序计数器：程序计数器会存储当前线程正在执行的 Java 方法的JVM 指令地址。
    如果是在执行本地方法，则是未指定值（undefined）。
    * Java 虚拟机栈
    * 本地方法栈
2. 线程共享
    * 堆
    * 方法区
    * 运行常量池，位于方法区中
    
JVM 运行时内存主要分成五个部分，分别是：
1. 方法区，Method Area
2. 堆，Heap
3. 虚拟机栈，VM Stack
4. 本地方法栈， Native Method Stack
5. 程序计数器， Program Counter Register

其中方法区和堆是线程共享的区域，另外三个则是线程共享的。

## 方法区
用于存放已经被虚拟机加载的类信息，包括常量和静态变量等。

## 堆

## 可能会出现 OOM 的内存分区
1. 堆内存不足，最常见的情形导致原因有：内存泄漏，堆大小设置不合理，超大对象等等；
2. 直接内存不足，在使用直接内存时导致物理内存不足；
3. 永久代/元空间内存不足
4. 虚拟机栈和本地方法栈，如无限递归调用就会导致 StackOverflowError,如果JVM试图扩展栈空间就会抛出OOM。